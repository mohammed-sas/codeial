{let n=function(){let n=$("#new-post-form");n.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/post/create",data:n.serialize(),success:function(n){let o=e(n.data.post);$("#post-list-container>ul").prepend(o),t($(" .delete-post-button",o)),new ToggleLike($(" .toggle-like-button",o)),console.log(n)},error:function(n){console.log(n.responseText)}})}))},e=function(n){return $(`\n                 <li id="post-${n._id}">        \n                    <small><a class="delete-post-button" href="/post/destroy/${n._id}">Delete Post</a></small>\n                    ${n.content}\n                    <br>\n                    ${n.user.name}\n                    <br>\n                    ${n.createdAt}\n                    <br>\n                    <br>\n                    <small>\n                        <a class="toggle-like-button" data-likes="0" href="/like/toggle/?id=${n._id}&type=Post">\n                        0 likes\n                        </a>\n                    </small>\n                   \n\n                    <div class="post-comments">\n                        <form id="new-comment-form" action="/comment/create" method="post">\n                            <input type="text" name="content" placeholder="type here to add comment..." required>\n                            <input type="hidden" name="post" value="${n._id}">\n                            <input type="submit" value="Add Comment">\n                        </form>\n\n\n                            <div class="post-comments-list">\n                                <ul id="post-comment-${n._id}">\n                                    \n                                       \n                                            \n                                        \n                                    \n\n                                </ul>\n\n                            </div>\n                    </div>\n\n\n                </li>\n        `)},t=function(n){$(n).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(n).prop("href"),success:function(n){$(`#post-${n.data.post_id}`).remove()},error:function(n){console.log(n.responseText)}})}))};n()}